!function(a){"use strict";var b,c,d,e,f,g={},h=[],i=[],j="",k={play:[],mark:[],swap:[],compare:[],highlight:[]},l=0,m=0;d=function(a){var b,c="object"==typeof a;return b={id:c?a.id:j+"_"+a,value:c?a.value:a,play:c?a.play:!1,mark:c?a.mark:!1,swap:c?a.swap:!1,justSwapped:c?a.justSwapped:!1,compare:c?a.compare:!1,highlight:c?a.highlight:!1}},e=function(a){(0===i.length||k.hasOwnProperty(a)&&k[a].length)&&b()},b=function(){var a,b,c=[];for(a=0;a<h.length;a++)b=d(h[a]),k.swap.indexOf(b.id)>=0&&(b.justSwapped=!0),k.highlight.indexOf(b.id)>=0&&(b.highlight=!0),c.push(b);i.push({arr:c,compareCount:l,swapCount:m}),k.play=[],k.mark=[],k.swap=[],k.compare=[]},c=function(a,b){f("compare",[a,b]),l++,i[i.length-1].compareCount=l},f=function(a,b){var c,d,f,g;for(e(a),c=i.length-1,d=i[c].arr.length,f=0;f<b.length;f++)g=b[f],g>=0&&d>g&&(i[c].arr[g][a]=!0,k.hasOwnProperty(a)&&k[a].push(i[c].arr[g].id))},g.getFrames=function(){return i},g.init=function(a,b){var c;for(h=[],i=[],j=b,l=0,m=0,c=0;c<a.length;c++)h.push(d(a[c]))},g.end=function(a){var c,d;if(j===a){for(0===i.length&&b(),d=i[i.length-1].arr,c=0;c<h.length;c++)if(h[c].id!==d)return b(),i;return i}return[]},g.length=function(){return h.length},g.size=g.length,g.lt=function(a,b){return c(a,b),g.get(a)<g.get(b)},g.lte=function(a,b){return c(a,b),g.get(a)<=g.get(b)},g.gt=function(a,b){return c(a,b),g.get(a)>g.get(b)},g.gte=function(a,b){return c(a,b),g.get(a)>=g.get(b)},g.eq=function(a,b){return c(a,b),g.get(a)===g.get(b)},g.neq=function(a,b){return c(a,b),g.get(a)!==g.get(b)},g.play=function(){f("play",arguments)},g.mark=function(){f("mark",arguments)},g.clearHighlight=function(){k.highlight=[]},g.highlight=function(){g.clearHighlight(),f("highlight",arguments)},g.get=function(a){return h[a].value},g.swap=function(a,b){var c,d;f("swap",[a,b]),c=h[a],d=h[b],h[a]=d,h[b]=c,m++,i[i.length-1].swapCount=m},a.AS=g}(this),function(a){"use strict";var b;b=function(a){var b="bubble";return a=a||b,sort.hasOwnProperty(a)||(a=b),a},a.onmessage=function(b){var c,d,e=Function,f={},g=(new Date).getTime();f.key=b.data.key||"",f.fn=b.data.fn||"function () {\n}",f.arr=b.data.arr||[],c=f.fn.split("\n"),f.fn=c.splice(1,c.length-2).join("\n"),f.fn=new e(f.fn),AS.init(f.arr,g),f.fn(),d=AS.end(g),a.postMessage({key:f.key,frames:d,fn:f.fn.toString()})}}(this);